<!DOCTYPE html>
<html>
<head>
	<title>TestPage</title>
    <script src="https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>

	<style type="text/css">
        .mainHeight {
        	width: 100%;
        	height: 742px;
        	box-shadow: 2px 2px 5px #bbb;
        }
        .title {
			width: 100%;
			height:73.5px;
			margin-top: 0px;
			margin-bottom: 0px;
	    }
        .titleSize {
            text-align: center;
			margin-top: 0;
			margin-bottom: 0;
        }
        .q {
        	font-size: 21px;
        	margin-top: auto;
        	position: relative;
        }
        .userChoice {
        	height: 193px;
			text-align: center;
			box-shadow: 2px 2px 5px #bbb;
        }
        .b {
            text-align: center;
        }
    </style>
</head>
<body>
    <div class="mainHeight">
    	<div class="title">
            <h1 class="titleSize">心理测试</h1>
        </div>

        <div class="queryBlock">
        	<table class="queryTable" width="100%" border="0">
			    <tr>
			    	<td style="width:25%">
			    		<div class="userChoice">
			    	    <p class="q">您的性别？</p>
			    		<input type="radio" value="0" name="q1">男</input>
			    		<input type="radio" value="1" name="q1">女</input>
			    	    </div>
			    	</td>
			    	<td style="width:25%">
			    		<div class="userChoice">
			    	    <p class="q">您处于25岁以下吗？</p>
			    		<input name="q2" type="radio" value="0">是</input>
			    		<input name="q2" type="radio" value="1">否</input>
			    	    </div>
			    	</td>
			    	<td style="width:25%">
			    		<div class="userChoice">
			    		<p class="q">您觉得现在的生活紧张吗？</p>
			    		<input name="q3" type="radio" value="0">是</input>
			    		<input name="q3" type="radio" value="1">否</input>
			    	    </div>
			    	</td>
			    	<td style="width:25%">
			    		<div class="userChoice">
			    		<p class="q">您在做事时有感到恐慌吗？</p>
			    		<input name="q4" type="radio" value="0">是</input>
			    		<input name="q4" type="radio" value="1">否</input>
			    	    </div>
			    	</td>
			    </tr>
			    <tr>
			    	<td style="width:25%">
			    		<div class="userChoice">
			    		<p class="q">您有心悸的感觉吗？</p>
			    		<input name="q5" type="radio" value="0">是</input>
			    		<input name="q5" type="radio" value="1">否</input>
			    	    </div>
			    	</td>
			    	<td style="width:25%">
			    		<div class="userChoice">
			    		<p class="q">在平常生活中您有上气不接下气的时候吗？</p>
			    		<input name="q6" type="radio" value="0">是</input>
			    		<input name="q6" type="radio" value="1">否</input>
			    	    </div>
			    	</td>
			    	<td style="width:25%">
			    		<div class="userChoice">
			    		<p class="q">您有突然感到恶心吗？</p>
			    		<input name="q7" type="radio" value="0">是</input>
			    		<input name="q7" type="radio" value="1">否</input>
			    	    </div>
			    	</td>
			    	<td style="width:25%">
			    		<div class="userChoice">
			    		<p class="q">您有持续性头痛的经历吗？（譬如连续1周都处于头痛状态下）</p>
			    		<input name="q8" type="radio" value="0">是</input>
			    		<input name="q8" type="radio" value="1">否</input>
			    	    </div>
			    	</td>
			    </tr>
			    <tr>
			    	<td style="width:25%">
			    		<div class="userChoice">
			    		<p class="q">您在最近一个月以来有失眠的经历吗？</p>
			    		<input name="q9" type="radio" value="0">是</input>
			    		<input name="q9" type="radio" value="1">否</input>
			    	    </div>
			    	</td>
			    	<td style="width:25%">
			    		<div class="userChoice">
			    		<p class="q">您有长时间怀疑过自己得病吗？</p>
			    		<input name="q10" type="radio" value="0">是</input>
			    		<input name="q10" type="radio" value="1">否</input>
			    	    </div>
			    	</td>
			    	<td style="width:25%">
			    		<div class="userChoice">
			    		<p class="q">对于身边的小事您有表现的易怒，冲动吗？</p>
			    		<input name="q11" type="radio" value="0">是</input>
			    		<input name="q11" type="radio" value="1">否</input>
			    	    </div>
			    	</td>
			    	<td style="width:25%">
			    		<div class="userChoice">
			    		<p class="q">当您出现上述症状时，您处于发烧状态下吗？</p>
			    		<input name="q12" type="radio" value="0">是</input>
			    		<input name="q12" type="radio" value="1">否</input>
			    	    </div>
			    	</td>
			    </tr>
			</table>
        </div>

        <div class="midButton">
        	<p class="b">请根据自身情况如实填写，一旦提交将无法修改！<br>
        	<button type="button" id = "submit">提交</button>
            </p>
            <script type="text/javascript">
                $(document).ready(function() {
                    $("#submit").click(function() {
                    	var qnode,i;
                    	var j = {};
                        for (i = 0;i<12;i++){
                        	qnode = document.getElementsByName("q"+(i+1));
                        	console.log()
                        	if (qnode[0].checked){
                        		j[""+(i+1)] = "a";
                        	} 
                        	else if(qnode[1].checked){
                        		j[""+(i+1)] = "b";
                        	}
                        	else{
                        	    console.log("1");
                        		alert("请填完所有的选项");
                        		break;
                        	}
                        }
                        if (i == 12){
                        	$.post("../api/result",j,function(data){
                        		if (data["code"] == 2){
                        			alert(data["data"]["result"]);
                        			location.href = "../report"
                        		}
                        		else{
                        			alert(data["message"]);
                        		}
                        	});
                        }
                        else{
                            alert("eeee")
                        }

                    });
                });
            </script>
        </div>
    </div>
</body>
</html>